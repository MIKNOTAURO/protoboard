{% extends "activitytree/base.html" %}



{% block content %}


    <div id="navlist" class = "row">


     </div>

    <div class="row">

         <form id="learning_activity_form"   role="form" action="{{uri}}" method = "POST">{% csrf_token %}


               <ul class="pager">
                     <li class="previous"><span class="nav_prev" > &larr; Anterior</span></li>
                    <li class="next"><span class="nav_next">  Continuar &rarr;</span></li>
               </ul>


        <!-- <div class="form-group">
            <label for="r10">Comentario:</label>
            <select id="exit" name="objective_measure" class="form-control" >
				<option value="70"> Ninguno </option>
				<option value="100">Si le entendí</option>
				<option value="50">Más o menos  </option>
				<option value="20"> Para nada </option>
	        </select>

        </div> -->
       </form>


    </div>

{% endblock content %}

{% block scripts %}

<script id="container_template" type="x-tmpl-mustache">
	<div class="col-xs-8 col-md-4">
		<div class="thumbnail">
			<div class="caption">
				<a href="/survey/EP">
					<h4><i class="fa fa-video-camera"></i> {{name}} </h4>
				</a>
			</div>
		</div>
	</div>
</script>

<script type="text/javascript" charset="utf-8">

    $( document ).ready(function() {
        XML_NAV = "{{XML_NAV|safe}}";
        xmlDoc= $.parseXML(XML_NAV);
        $xml = $(xmlDoc)
        $current = $xml.find("item[is_current|='True']");
        if ($current[0].getAttribute("is_container")=="True")
        {
            var template = $('#container_template').html();
            Mustache.parse(template);   // optional, speeds up future uses

            $current.children().each(function( index ) {

                var icon;
                if (this.getAttribute("is_container")=="True")
                    icon = $("<i/>", {"class": "fa fa-folder-open"});
                else
                    icon = $("<i/>", {"class": "fa fa-video-camera"});

                var title = $("<a/>", {"href":this.getAttribute("uri")})
                        .append($("<h4/>", {"text":" "+this.getAttribute("identifier")}).prepend(icon)
                );


                var caption = $("<div/>", {"class": "caption"});
                caption.append(title);

                var thumbnail = $("<div/>", {"class": "thumbnail"});
                thumbnail.append(caption);
                var column = $("<div/>", {"class": "col-xs-8 col-md-4"});
                thumbnail.appendTo(column);

                $("#navlist").append(column );

                var rendered = Mustache.render(template, {name: "Luke"});
                $("#navlist").append(rendered);

            });

        }

    });

</script>

{% endblock scripts %}